<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div id="player" class='embed-container'></div>
  <script src="https://player.vimeo.com/api/player.js"></script>
  <script>
    var options = {
      id: '30833066',
      playsinline: true,
    };

    this.player = new Vimeo.Player('player', options);

    this.player.on('play', function () {
      console.log('PLAY')
      return sendMessageToRN("PLAYING")
    });

    this.player.on('pause', function () {
      console.log('PAUSE')
      return sendMessageToRN("PAUSED")
    });

    this.player.on('stopped', function () {
      console.log('STOP')
      return sendMessageToRN("STOPPED")
    });

    function sendMessageToRN(message) {
      if (window.ReactNativeWebView.postMessage.length !== 1) {
        setTimeout(sendMessageToRN(message), 200);
      } else {
        window.ReactNativeWebView.postMessage(message);
      }
    }
  </script>
</body>

<style>
  .embed-container {
  --video--width: 1296;
  --video--height: 540;

  position: relative;
  padding-bottom: calc(var(--video--height) / var(--video--width) * 100%); /* 41.66666667% */
  overflow: hidden;
  max-width: 100%;
  background: black;
}

.embed-container iframe,
.embed-container object,
.embed-container embed {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>

</html>